---
title: awk
toc: true
---
[toc]

---
# 简介
    1. awk是一种编程语言，用于在linux/unix下对文本和数据进行处理;
    2. 数据可以来自标准输入(stdin)、一个或多个文件，或其它命令的输出;
    3. 它支持用户自定义函数和动态正则表达式等先进功能，是linux/unix下的一个强大编程工具;
    4. 它在命令行中使用，但更多是作为脚本来使用;
    5. awk有很多内建的功能，比如数组、函数等，这是它和C语言的相同之处，灵活性是awk最大的优势。

---
# 语法
```shell
awk options 'pattern {action}' file
```

* 选项参数说明：
    * options：是一些选项，用于控制 awk 的行为。
    * pattern：是用于匹配输入数据的模式。如果省略，则 awk 将对所有行进行操作。
    * {action}：是在匹配到模式的行上执行的动作。如果省略，则默认动作是打印整行。

* options 参数说明：
    * -F <分隔符> 或 --field-separator=<分隔符>： 指定输入字段的分隔符，默认是空格。使用这个选项可以指定不同于默认分隔符的字段分隔符。
    * -v <变量名>=<值>： 设置 awk 内部的变量值。可以使用该选项将外部值传递给 awk 脚本中的变量。
    * -f <脚本文件>： 指定一个包含 awk 脚本的文件。这样可以在文件中编写较大的 awk 脚本，然后通过 -f 选项将其加载。
    * -V 或 --version： 显示 awk 的版本信息。
    * -h 或 --help： 显示 awk 的帮助信息，包括选项和用法示例。

# 内置变量
    * FS ：输入字段分隔符，默认为空白字符
    * OFS ：输出字段分隔符，默认为空白字符
    * RS ：输入记录分隔符，指定输入时的换行符，原换行符仍有效
    * ORS ：输出记录分隔符，输出时用指定符号代替换行符
    * NF ：字段数量，共有多少字段， $NF引用最后一列，$(NF-1)引用倒数第2列
    * NR ：行号，后可跟多个文件，第二个文件行号继续从第一个文件最后行号开始
    * FNR ：各文件分别计数, 行号，后跟一个文件和NR一样，跟多个文件，第二个文件行号从1开始
    * FILENAME ：当前文件名
    * ARGC ：命令行参数的个数
    * ARGV ：数组，保存的是命令行所给定的各参数，查看参数
